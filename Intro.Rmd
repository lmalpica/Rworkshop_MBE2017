---
title: "Intro to R for MBE2017"
author: "Luis Malpica Cruz"
date: "May 2, 2017"
output: html_document
---

## The basics
 This is your working environment in R Studio, here you write, edit and save your code
 The 'Console' space allows you to run your code and see R's output
 The 'Environment' space is where R studio stores data files, variables and functions
 The last space holds several tabs as follows:
 'Files' to see files in your current working directory
 'Plots' any plot code you run will appear here
 'Packages' shows those packages that you have installed and those loaded for your sesion
 'Help' when you need some guidance from specific packages and functions
 'Viewer' don't know, never used it...

## Working with R
```{r, eval = FALSE}
# Operator '#'
# anything after a '#' will not be read as an operating code by R

# Some algebra in R####
100+1
2 * 6
10 /      2
log(10)

# Help
?
help
# Challenge problem, find what do the next commands do:
log
example
citation

# comparing numbers with logical symbols####
1 < 2
0 > 1
1 != 2
1 <= 2
1 >= 1

# store information using/making variables####
x <- 5
x
cos(x)
y <- 10*x
y

#challenge problem####
#what will the following code return?
x <- 1
x <- x + 1 
x

# memory management####
ls()
x
rm(x)
x

# reading in data####
cats <- read.table(file = "data/cats.txt", header=TRUE, sep=",")
cats

# manipulating data####
cats$weight[1]
cats$weight[2]
cats$weight[1] + cats$weight[2]

# challenge problem:####
#what will the following print out and why?
cats$weight[1] + cats$coat[2]

#investigating data types####
typeof(cats$weight[1])
is(cats$weight[1])
typeof(cats$coat[2])
is(cats$coat[2])

#5 main types of data in R:
typeof(3.14)
typeof(1L)
typeof(1)
typeof(TRUE)
typeof(FALSE)
typeof('SWC')
typeof(1+1i)

# introducing vectors####
# Challenge, use typeof() to investigate the type of data contained in the vectors created
x <- vector(length = 3)
x
x <- vector("character", length=3)
x
x <- c(2,3,6)
x
x <-c(2, 3,'6') 
x
x <- c('a', TRUE)
x
x <- c(0, TRUE)
x

#a few other ways of making simple vectors####
x <- seq(10)
x
head(x, n=2)
tail(x, n=4)
length(x)
x <- 1:4
x
names(x) <- c('a', 'b', 'c', 'd')
x
x[2]
x['b']

#investtigating structure####
x <- 1:4
str(x)
cats
str(cats$weight)
str(cats$likes_string)
str(cats)

#introducing factors####
str(cats$coat)
coats = c('tabby', 'toirtoise', 'toirtoise', 'black', 'tabby')
str(coats)
CATegories <- factor(coats) #this groups data into categories
str(CATegories)
typeof(coats[1])
typeof(CATegories[1]) #for R, these indices deep under are still numbers 

```

```{r}
# Workspace functions 
ls, exists, rm
getwd, setwd
install.packages, library

# Always start by cleaning your working environment, 
rm(list=ls())

# Install and load packages
install.packages("rmarkdown")
library(rmarkdown)

install.packages("ggplot2") #great plotting package
library(ggplot2)

# Set your working directory
getwd()
setwd(dir = "/Users/Dudisimo/Documents/PhD/TAing/Rworkshop_MBE2017")

#exploring real data
gappy <- read.table(file = "data/gapminder-FiveYearData.csv", header=TRUE, sep=",", strip.white = TRUE)
str(gappy)
View(gappy)
typeof(gappy)
typeof(gappy$year)

#plotting with baseplot
plot(gappy$lifeExp,gappy$gdpPercap, blue)
plot(gappy$gdpPercap,gappy$lifeExp)
plot(gappy$year,gappy$gdpPercap)

#plotting with ggplot####
library(ggplot2)
ggplot(data = gappy, aes(x = lifeExp, y = gdpPercap)) + geom_point()
ggplot(data = gappy, aes(x = gdpPercap, y = lifeExp)) + geom_point()
ggplot(data = gappy, aes(x = year, y = gdpPercap, color =continent)) + geom_point()

ggplot(data = gappy, aes(x = year, y = gdpPercap, by=country, color =continent)) + geom_point() + geom_line()

ggplot(data = gappy, aes(x = year, y = gdpPercap, by=country)) + geom_line(aes(color=continent))

ggplot(data = subset(gappy, continent=="Africa"), aes(x = year, y = gdpPercap, by=country)) +
  geom_line(aes(color=country))

ggplot(data = subset(gappy, continent=="Africa" & gdpPercap>3000), aes(x = year, y = gdpPercap, by=country)) + 
  geom_line(aes(color=country))

```

```{r}
# Start by cleaning your working environment
rm(list=ls())

# Set your working directory
getwd()
setwd(dir = "/Users/Dudisimo/Documents/PhD/TAing/Rworkshop_MBE2017")

# Some packages that will help us analyze and plot our data
install.packages("scales")
install.packages("MuMIn")
library("scales")
library("MuMIn")

# Loading some data
barnacles <-read.csv("data/BarnacleData.csv", header=TRUE, sep=",", strip.white = TRUE) 

# Figuring out data type
str(barnacles)
head(barnacles)
names(barnacles)
summary(barnacles)
View(barnacles)

```



